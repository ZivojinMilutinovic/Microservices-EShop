2021-10-14 23:26:14.727 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MaxPoolSize=128 
2021-10-14 23:26:14.992 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-14 23:26:15.015 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-14 23:26:15.019 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-14 23:26:15.020 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-14 23:26:15.034 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-14 23:26:15.044 +02:00 [INF] No migrations were applied. The database is already up to date.
2021-10-14 23:26:15.065 +02:00 [INF] Now listening on: http://localhost:5016
2021-10-14 23:26:15.065 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-14 23:26:15.065 +02:00 [INF] Hosting environment: Development
2021-10-14 23:26:15.065 +02:00 [INF] Content root path: C:\Users\zivoj\Desktop\Zivojin\Microservices-EShop\ShoppingCartMicroservice
2021-10-14 23:28:16.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:16.195 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:16.215 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:16.229 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:16.344 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:16.345 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:16.616 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:16.628 +02:00 [INF] ShoppingCartController-->Active Shopping cart with for user with id $2 was found 
2021-10-14 23:28:16.632 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-10-14 23:28:16.646 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 414.4666ms
2021-10-14 23:28:16.647 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:16.653 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 404 - application/problem+json;+charset=utf-8 478.0795ms
2021-10-14 23:28:19.374 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - -
2021-10-14 23:28:19.375 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:19.375 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - - - 204 - - 1.2597ms
2021-10-14 23:28:19.378 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 147
2021-10-14 23:28:19.379 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:19.379 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:19.381 +02:00 [INF] Route matched with {action = "Post", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ShoppingCartMicroservice.Dtos.PostProductDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:19.396 +02:00 [INF] ShoppingCartController-->Calling method for creating a shopping cart
2021-10-14 23:28:19.398 +02:00 [INF] ShoppingCartRepo-->Calling AddProductToShoppingCart method
2021-10-14 23:28:19.409 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__postProductDto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__postProductDto_UserId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:19.552 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ShoppingCart] ([Processed], [UserId])
VALUES (@p0, @p1);
SELECT [Id]
FROM [ShoppingCart]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-14 23:28:19.585 +02:00 [INF] ShoppingCartRepo-->Creating a shopping cart
2021-10-14 23:28:19.594 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_OriginalProductId_0='?' (DbType = Int32), @__product_ShoppingCartId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM [Product] AS [p]
WHERE ([p].[OriginalProductId] = @__product_OriginalProductId_0) AND ([p].[ShoppingCartId] = @__product_ShoppingCartId_1)
2021-10-14 23:28:19.594 +02:00 [INF] ShoppingCartRepo-->Adding a new product to the shopping cart
2021-10-14 23:28:19.638 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Product] ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Product]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-14 23:28:19.651 +02:00 [INF] ShoppingCartRepo-->Finishing AddProductToShoppingCart method
2021-10-14 23:28:19.652 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:19.681 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice) in 299.2952ms
2021-10-14 23:28:19.681 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:19.682 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 147 - 201 - application/json;+charset=utf-8 304.0607ms
2021-10-14 23:28:21.532 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:21.532 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:21.533 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:21.533 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:21.534 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:21.534 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:21.540 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:21.547 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:21.547 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:21.547 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 14.2501ms
2021-10-14 23:28:21.547 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:21.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 15.6541ms
2021-10-14 23:28:24.659 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - -
2021-10-14 23:28:24.659 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:24.659 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - - - 204 - - 0.2408ms
2021-10-14 23:28:24.661 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 155
2021-10-14 23:28:24.662 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:24.662 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:24.662 +02:00 [INF] Route matched with {action = "Post", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ShoppingCartMicroservice.Dtos.PostProductDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:24.662 +02:00 [INF] ShoppingCartController-->Calling method for creating a shopping cart
2021-10-14 23:28:24.662 +02:00 [INF] ShoppingCartRepo-->Calling AddProductToShoppingCart method
2021-10-14 23:28:24.665 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__postProductDto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__postProductDto_UserId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:24.665 +02:00 [INF] ShoppingCartRepo-->Shopping cart already exists
2021-10-14 23:28:24.667 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_OriginalProductId_0='?' (DbType = Int32), @__product_ShoppingCartId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM [Product] AS [p]
WHERE ([p].[OriginalProductId] = @__product_OriginalProductId_0) AND ([p].[ShoppingCartId] = @__product_ShoppingCartId_1)
2021-10-14 23:28:24.667 +02:00 [INF] ShoppingCartRepo-->Adding a new product to the shopping cart
2021-10-14 23:28:24.671 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Product] ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Product]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-14 23:28:24.682 +02:00 [INF] ShoppingCartRepo-->Finishing AddProductToShoppingCart method
2021-10-14 23:28:24.682 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:24.683 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice) in 21.4603ms
2021-10-14 23:28:24.683 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:24.684 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 155 - 201 - application/json;+charset=utf-8 22.1233ms
2021-10-14 23:28:25.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:25.691 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:25.691 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:25.692 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:25.692 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:25.692 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:25.695 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:25.695 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:25.695 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:25.695 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 3.7289ms
2021-10-14 23:28:25.695 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:25.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 4.1882ms
2021-10-14 23:28:28.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/shoppingCart/21 - -
2021-10-14 23:28:28.758 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:28.758 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/shoppingCart/21 - - - 204 - - 0.2953ms
2021-10-14 23:28:28.760 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/shoppingCart/21 application/json 355
2021-10-14 23:28:28.760 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:28.760 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice)'
2021-10-14 23:28:28.762 +02:00 [INF] Route matched with {action = "UpdateShoppingCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateShoppingCart(Int32, ShoppingCartMicroservice.Dtos.GetShoppingCartDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:28.766 +02:00 [INF] ShoppingCartController-->Calling method for updating a shopping cart
2021-10-14 23:28:28.767 +02:00 [INF] ShoppingCartRepo-->Calling  UpdateShoppingCart method
2021-10-14 23:28:28.776 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__shoppingCartDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Id] = @__shoppingCartDto_Id_0
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:28.809 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Double), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Double), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p20='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Product]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Product]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [Product] USING (
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (i.[ClothingType], i.[Collection], i.[Description], i.[NumberOfItems], i.[OriginalProductId], i.[Price], i.[ProductNumber], i.[ShoppingCartId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [Product] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

UPDATE [ShoppingCart] SET [Processed] = @p18, [UserId] = @p19
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;
2021-10-14 23:28:28.818 +02:00 [INF] ShoppingCartRepo-->Finishing  UpdateShoppingCart method
2021-10-14 23:28:28.818 +02:00 [INF] ShoppingCartController-->Shopping cart was successfully updated
2021-10-14 23:28:28.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:28.819 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice) in 56.275ms
2021-10-14 23:28:28.819 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice)'
2021-10-14 23:28:28.819 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/shoppingCart/21 application/json 355 - 200 - application/json;+charset=utf-8 59.1878ms
2021-10-14 23:28:28.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:28.850 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:28.851 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:28.851 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:28.851 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:28.851 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:28.854 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:28.855 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:28.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:28.855 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 4.3341ms
2021-10-14 23:28:28.855 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:28.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 4.8816ms
2021-10-14 23:28:32.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:32.630 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:32.630 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:32.630 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:32.631 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:32.631 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:32.633 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:32.634 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:32.634 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:32.634 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 3.5323ms
2021-10-14 23:28:32.634 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:32.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 4.3278ms
2021-10-14 23:28:36.513 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - -
2021-10-14 23:28:36.513 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:36.514 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - - - 204 - - 0.2340ms
2021-10-14 23:28:36.515 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 146
2021-10-14 23:28:36.515 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:36.515 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:36.515 +02:00 [INF] Route matched with {action = "Post", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ShoppingCartMicroservice.Dtos.PostProductDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:36.516 +02:00 [INF] ShoppingCartController-->Calling method for creating a shopping cart
2021-10-14 23:28:36.516 +02:00 [INF] ShoppingCartRepo-->Calling AddProductToShoppingCart method
2021-10-14 23:28:36.518 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__postProductDto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__postProductDto_UserId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:36.518 +02:00 [INF] ShoppingCartRepo-->Shopping cart already exists
2021-10-14 23:28:36.520 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_OriginalProductId_0='?' (DbType = Int32), @__product_ShoppingCartId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM [Product] AS [p]
WHERE ([p].[OriginalProductId] = @__product_OriginalProductId_0) AND ([p].[ShoppingCartId] = @__product_ShoppingCartId_1)
2021-10-14 23:28:36.520 +02:00 [INF] ShoppingCartRepo-->Adding a new product to the shopping cart
2021-10-14 23:28:36.524 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Product] ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Product]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-14 23:28:36.535 +02:00 [INF] ShoppingCartRepo-->Finishing AddProductToShoppingCart method
2021-10-14 23:28:36.535 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:36.535 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice) in 19.6453ms
2021-10-14 23:28:36.535 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-14 23:28:36.535 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 146 - 201 - application/json;+charset=utf-8 20.1821ms
2021-10-14 23:28:37.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:37.612 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:37.612 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:37.612 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:37.613 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:37.613 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:37.615 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:37.616 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:37.616 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:37.616 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 3.4129ms
2021-10-14 23:28:37.616 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:37.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 3.8407ms
2021-10-14 23:28:43.007 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/shoppingCart/21 - -
2021-10-14 23:28:43.007 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:43.007 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/shoppingCart/21 - - - 204 - - 0.2344ms
2021-10-14 23:28:43.009 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/shoppingCart/21 application/json 502
2021-10-14 23:28:43.009 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:43.009 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice)'
2021-10-14 23:28:43.009 +02:00 [INF] Route matched with {action = "UpdateShoppingCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateShoppingCart(Int32, ShoppingCartMicroservice.Dtos.GetShoppingCartDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:43.009 +02:00 [INF] ShoppingCartController-->Calling method for updating a shopping cart
2021-10-14 23:28:43.009 +02:00 [INF] ShoppingCartRepo-->Calling  UpdateShoppingCart method
2021-10-14 23:28:43.012 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__shoppingCartDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Id] = @__shoppingCartDto_Id_0
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:43.025 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Double), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Double), @p25='?' (Size = 4000), @p26='?' (DbType = Int32), @p29='?' (DbType = Int32), @p27='?' (DbType = Boolean), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Product]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Product]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Product]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DECLARE @inserted3 TABLE ([Id] int, [_Position] [int]);
MERGE [Product] USING (
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 1),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (i.[ClothingType], i.[Collection], i.[Description], i.[NumberOfItems], i.[OriginalProductId], i.[Price], i.[ProductNumber], i.[ShoppingCartId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted3;

SELECT [t].[Id] FROM [Product] t
INNER JOIN @inserted3 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];

UPDATE [ShoppingCart] SET [Processed] = @p27, [UserId] = @p28
WHERE [Id] = @p29;
SELECT @@ROWCOUNT;
2021-10-14 23:28:43.029 +02:00 [INF] ShoppingCartRepo-->Finishing  UpdateShoppingCart method
2021-10-14 23:28:43.029 +02:00 [INF] ShoppingCartController-->Shopping cart was successfully updated
2021-10-14 23:28:43.029 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:43.030 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice) in 20.5753ms
2021-10-14 23:28:43.030 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.UpdateShoppingCart (ShoppingCartMicroservice)'
2021-10-14 23:28:43.030 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/shoppingCart/21 application/json 502 - 200 - application/json;+charset=utf-8 21.0212ms
2021-10-14 23:28:43.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - -
2021-10-14 23:28:43.046 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:28:43.047 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:43.047 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:28:43.047 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-14 23:28:43.047 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $2
2021-10-14 23:28:43.049 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:28:43.049 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-14 23:28:43.050 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-14 23:28:43.050 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 3.0509ms
2021-10-14 23:28:43.050 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-14 23:28:43.050 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/2 - - - 200 - application/json;+charset=utf-8 3.5735ms
2021-10-14 23:29:02.767 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/21 - -
2021-10-14 23:29:02.767 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:29:02.767 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart/21 - - - 204 - - 0.1801ms
2021-10-14 23:29:02.770 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/21 application/json 502
2021-10-14 23:29:02.770 +02:00 [INF] CORS policy execution successful.
2021-10-14 23:29:02.770 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Put (ShoppingCartMicroservice)'
2021-10-14 23:29:02.771 +02:00 [INF] Route matched with {action = "Put", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-14 23:29:02.772 +02:00 [INF] ShoppingCartController-->Calling method for processing a shopping cart
2021-10-14 23:29:02.773 +02:00 [INF] ShoppingCartRepo-->Calling ProcessShoppingCart for a shopping cart with id $21
2021-10-14 23:29:02.780 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__shoppingCartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE [s].[Id] = @__shoppingCartId_0
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-14 23:29:02.785 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Product]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Product]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Product]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

UPDATE [ShoppingCart] SET [Processed] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2021-10-14 23:29:02.789 +02:00 [INF] ShoppingCartRepo-->Finishing ProcessShoppingCart for a shopping cart with id $21
2021-10-14 23:29:02.789 +02:00 [INF] ShoppingCartController-->Shopping cart was successfully processed
2021-10-14 23:29:02.791 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2021-10-14 23:29:02.791 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.Put (ShoppingCartMicroservice) in 19.6346ms
2021-10-14 23:29:02.791 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Put (ShoppingCartMicroservice)'
2021-10-14 23:29:02.791 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/ShoppingCart/21 application/json 502 - 200 0 - 21.6542ms
2021-10-16 10:00:27.135 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MaxPoolSize=128 
2021-10-16 10:00:27.390 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-16 10:00:27.410 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-16 10:00:27.413 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-16 10:00:27.414 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-16 10:00:27.429 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-16 10:00:27.440 +02:00 [INF] No migrations were applied. The database is already up to date.
2021-10-16 10:00:27.462 +02:00 [INF] Now listening on: http://localhost:5016
2021-10-16 10:00:27.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-16 10:00:27.462 +02:00 [INF] Hosting environment: Development
2021-10-16 10:00:27.462 +02:00 [INF] Content root path: C:\Users\zivoj\Desktop\Zivojin\Microservices-EShop\ShoppingCartMicroservice
2021-10-16 11:40:18.464 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MaxPoolSize=128 
2021-10-16 11:40:18.759 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-16 11:40:18.783 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-16 11:40:18.786 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-16 11:40:18.788 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-16 11:40:18.802 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-16 11:40:18.812 +02:00 [INF] No migrations were applied. The database is already up to date.
2021-10-16 11:40:18.838 +02:00 [INF] Now listening on: http://localhost:5016
2021-10-16 11:40:18.839 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-16 11:40:18.839 +02:00 [INF] Hosting environment: Development
2021-10-16 11:40:18.839 +02:00 [INF] Content root path: C:\Users\zivoj\Desktop\Zivojin\Microservices-EShop\ShoppingCartMicroservice
2021-10-16 15:23:31.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:23:31.835 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:23:31.878 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:23:31.922 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:23:32.114 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:23:32.117 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:23:32.552 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:23:32.565 +02:00 [INF] ShoppingCartController-->Active Shopping cart with for user with id $1 was found 
2021-10-16 15:23:32.570 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-10-16 15:23:32.592 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 666.553ms
2021-10-16 15:23:32.593 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:23:32.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 404 - application/problem+json;+charset=utf-8 850.4234ms
2021-10-16 15:24:04.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:24:04.257 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:04.257 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:04.258 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:04.260 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:24:04.260 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:24:04.264 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:04.264 +02:00 [INF] ShoppingCartController-->Active Shopping cart with for user with id $1 was found 
2021-10-16 15:24:04.265 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-10-16 15:24:04.265 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 7.8254ms
2021-10-16 15:24:04.266 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:04.267 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 404 - application/problem+json;+charset=utf-8 10.3806ms
2021-10-16 15:24:09.954 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - -
2021-10-16 15:24:09.961 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:09.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5016/api/ShoppingCart - - - 204 - - 7.3311ms
2021-10-16 15:24:09.965 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 155
2021-10-16 15:24:09.965 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:09.966 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-16 15:24:09.969 +02:00 [INF] Route matched with {action = "Post", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ShoppingCartMicroservice.Dtos.PostProductDto) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:09.984 +02:00 [INF] ShoppingCartController-->Calling method for creating a shopping cart
2021-10-16 15:24:09.987 +02:00 [INF] ShoppingCartRepo-->Calling AddProductToShoppingCart method
2021-10-16 15:24:10.003 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__postProductDto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__postProductDto_UserId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:10.151 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ShoppingCart] ([Processed], [UserId])
VALUES (@p0, @p1);
SELECT [Id]
FROM [ShoppingCart]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-16 15:24:10.183 +02:00 [INF] ShoppingCartRepo-->Creating a shopping cart
2021-10-16 15:24:10.192 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_OriginalProductId_0='?' (DbType = Int32), @__product_ShoppingCartId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM [Product] AS [p]
WHERE ([p].[OriginalProductId] = @__product_OriginalProductId_0) AND ([p].[ShoppingCartId] = @__product_ShoppingCartId_1)
2021-10-16 15:24:10.192 +02:00 [INF] ShoppingCartRepo-->Adding a new product to the shopping cart
2021-10-16 15:24:10.231 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Product] ([ClothingType], [Collection], [Description], [NumberOfItems], [OriginalProductId], [Price], [ProductNumber], [ShoppingCartId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Product]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-10-16 15:24:10.243 +02:00 [INF] ShoppingCartRepo-->Finishing AddProductToShoppingCart method
2021-10-16 15:24:10.244 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-16 15:24:10.273 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice) in 303.7682ms
2021-10-16 15:24:10.273 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.Post (ShoppingCartMicroservice)'
2021-10-16 15:24:10.273 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/ShoppingCart application/json 155 - 201 - application/json;+charset=utf-8 307.7786ms
2021-10-16 15:24:12.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:24:12.819 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:12.819 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:12.819 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:12.819 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:24:12.819 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:24:12.823 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:12.831 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-16 15:24:12.831 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-16 15:24:12.831 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 12.3301ms
2021-10-16 15:24:12.831 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:12.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 200 - application/json;+charset=utf-8 13.0919ms
2021-10-16 15:24:17.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:24:17.456 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:17.456 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:17.456 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:17.457 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:24:17.457 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:24:17.459 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:17.460 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-16 15:24:17.460 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-16 15:24:17.460 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 3.4733ms
2021-10-16 15:24:17.460 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:17.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 200 - application/json;+charset=utf-8 4.9047ms
2021-10-16 15:24:21.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:24:21.552 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:21.552 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:21.552 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:21.553 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:24:21.553 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:24:21.556 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:21.557 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-16 15:24:21.557 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-16 15:24:21.557 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 4.3812ms
2021-10-16 15:24:21.557 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:21.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 200 - application/json;+charset=utf-8 5.3958ms
2021-10-16 15:24:23.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - -
2021-10-16 15:24:23.190 +02:00 [INF] CORS policy execution successful.
2021-10-16 15:24:23.190 +02:00 [INF] Executing endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:23.190 +02:00 [INF] Route matched with {action = "GetActiveShoppingCard", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveShoppingCard(Int32) on controller ShoppingCartMicroservice.Controllers.ShoppingCartController (ShoppingCartMicroservice).
2021-10-16 15:24:23.191 +02:00 [INF] ShoppingCartController-->Calling method for getting an active shopping cart
2021-10-16 15:24:23.197 +02:00 [INF] ShoppingCartRepo-->Calling GetActiveShoppingCartForUser for a user with id $1
2021-10-16 15:24:23.199 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Processed], [t].[UserId], [p].[Id], [p].[ClothingType], [p].[Collection], [p].[Description], [p].[NumberOfItems], [p].[OriginalProductId], [p].[Price], [p].[ProductNumber], [p].[ShoppingCartId]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Processed], [s].[UserId]
    FROM [ShoppingCart] AS [s]
    WHERE ([s].[UserId] = @__userId_0) AND ([s].[Processed] <> CAST(1 AS bit))
) AS [t]
LEFT JOIN [Product] AS [p] ON [t].[Id] = [p].[ShoppingCartId]
ORDER BY [t].[Id], [p].[Id]
2021-10-16 15:24:23.199 +02:00 [INF] ShoppingCartController-->Active Shopping cart was found
2021-10-16 15:24:23.199 +02:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingCartMicroservice.Dtos.GetShoppingCartDto'.
2021-10-16 15:24:23.199 +02:00 [INF] Executed action ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice) in 8.961ms
2021-10-16 15:24:23.200 +02:00 [INF] Executed endpoint 'ShoppingCartMicroservice.Controllers.ShoppingCartController.GetActiveShoppingCard (ShoppingCartMicroservice)'
2021-10-16 15:24:23.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/ShoppingCart/active/1 - - - 200 - application/json;+charset=utf-8 9.5034ms
2021-10-16 17:03:26.335 +02:00 [INF] Application is shutting down...
